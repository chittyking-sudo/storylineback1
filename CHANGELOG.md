# 更新日志

所有重要更改都将记录在此文件中。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)。

## [2.3.0] - 2024-11-22

### 新增
- **统一复古界面** - 合并主页面和复古页面为单一界面
- **全新配色方案** - 更和谐的配色体系
  - 底色: #f0d7b7 (暖米色)
  - 强调色: #e66285 (玫瑰粉)
  - 次要色: #2c9560 (深绿色)
  - 边框: #000100 (纯黑)
- **优化布局结构** - 左侧导航 + 右侧双栏内容 + 下方项目列表
- **单页应用体验** - 无刷新切换不同功能区

### 改进
- 更清晰的信息架构
- 更好的视觉层次
- 更流畅的用户体验
- 统一的复古风格设计语言

### 技术变更
- 创建新的主路由 `src/routes/main.ts`
- 更新所有页面配色变量
- 优化路由结构

## [2.2.0] - 2024-11-22

### 新增
- **复古网页体验** - 90年代风格的独立页面
- **JavaScript 交互功能** - 动态页面切换、按钮动画、社交图标特效
- **中文本地化** - 完整的中文界面翻译
- **游戏生成器集成** - 复古风格的项目列表和详情页
- **复古项目查看** - 世界观和角色信息展示

### 改进
- 增强视觉吸引力
- 添加交互反馈动画
- 提升用户参与度

### 文件
- 创建 `src/routes/retro.ts` - 复古主页
- 创建 `src/routes/retro-games.ts` - 游戏项目展示

## [2.1.0] - 2024-11-21

### 新增
- **世界观风格预设** - 6大类专业模板系统
  - 电影剧本：喜剧、解谜、悬疑、言情
  - 游戏世界：魔幻游戏、乙女游戏
  - 自定义：完全自由设定
- **动态类型细分** - 每种风格下30+详细子类别
- **优化的生成策略** - 针对不同风格调整 Agent Prompt

### 文档
- 创建 `WORLDVIEW_STYLES.md` - 详细的风格指南
- 更新 `FEATURES.md` - v2.1 功能说明

## [2.0.0] - 2024-11-21

### 新增
- **多种生成模式**
  - 仅生成世界观
  - 世界观 + 角色
  - 完整生成（世界观+剧情+角色+对话）
- **多模型支持**
  - OpenAI GPT-4o-mini（默认，性价比高）
  - Google Gemini（免费，创意性强）
  - OpenAI GPT-4o（质量最高）
  - 支持多模型同时生成和对比
- **分阶段生成**
  - 世界观详情页可继续生成角色
  - 世界观详情页可生成对话
  - 角色详情页可生成对话
  - 灵活的内容扩展
- **模型测试功能**
  - 多模型对比测试
  - 实时查看不同模型输出
  - Token 消耗统计
  - 帮助选择最佳模型

### 改进
- 重构 Agent 架构
- 优化数据库查询
- 增强错误处理
- 改进用户界面

### API 变更
- 新增 `/api/generate/worldview` - 仅生成世界观
- 新增 `/api/generate/characters` - 为已有世界观生成角色
- 新增 `/api/generate/dialogue` - 生成角色对话
- 新增 `/api/test/models` - 模型测试接口

## [1.0.0] - 2024-11-20

### 新增
- **基础 Agent 系统**
  - 世界观设计 Agent
  - 剧情架构 Agent
  - 角色创建 Agent
  - 对话生成 Agent
- **Master Orchestrator** - 协调所有 Agent 的工作流程
- **数据库集成** - Cloudflare D1 SQLite 数据库
- **内容导出** - JSON 和 Markdown 格式
- **Web 界面** - 基于 TailwindCSS 的现代化界面

### 技术栈
- Hono Framework
- TypeScript
- Cloudflare Workers
- Cloudflare D1
- OpenAI GPT-4o-mini
- Anthropic Claude-3-Sonnet

### 初始功能
- 创建游戏项目
- 自动生成完整内容
- 查看项目列表
- 查看项目详情
- 导出项目数据

---

## 版本说明

### 版本号规则

遵循 [语义化版本 2.0.0](https://semver.org/lang/zh-CN/)：

- **主版本号（MAJOR）**：不兼容的 API 修改
- **次版本号（MINOR）**：向下兼容的功能性新增
- **修订号（PATCH）**：向下兼容的问题修正

### 版本类型

- **[版本号]** - 正式发布版本
- **[Unreleased]** - 未发布的变更

### 变更类型

- **新增（Added）** - 新功能
- **改进（Changed）** - 现有功能的变更
- **弃用（Deprecated）** - 即将移除的功能
- **移除（Removed）** - 已移除的功能
- **修复（Fixed）** - 错误修复
- **安全（Security）** - 安全性修复

---

## 路线图

### v2.4 计划
- [ ] 项目编辑功能
- [ ] 项目搜索和筛选
- [ ] 更多主题配色选项
- [ ] 暗黑模式支持
- [ ] 项目分享功能

### v3.0 计划
- [ ] 一致性检查 Agent
- [ ] 质量评估 Agent
- [ ] 支线剧情生成
- [ ] 游戏机制建议
- [ ] 多用户支持
- [ ] 协作编辑功能

---

**最后更新**: 2024-11-22
