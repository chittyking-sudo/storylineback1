# æ”¯ä»˜å®å°ç¨‹åº - å®‰è£…å’Œä½¿ç”¨æŒ‡å—

## ğŸ“‹ å‰ç½®è¦æ±‚

1. **æ”¯ä»˜å®å¼€å‘è€…è´¦å·**
   - æ³¨å†Œåœ°å€ï¼šhttps://open.alipay.com/
   - å®Œæˆå®åè®¤è¯

2. **æ”¯ä»˜å®å°ç¨‹åºå¼€å‘è€…å·¥å…·**
   - ä¸‹è½½åœ°å€ï¼šhttps://opendocs.alipay.com/mini/ide/download
   - æ”¯æŒ Windowsã€macOS

3. **åç«¯ API æœåŠ¡**
   - å·²éƒ¨ç½²çš„æ¸¸æˆå†…å®¹ç”Ÿæˆå™¨åç«¯
   - æ”¯æŒ HTTPS è®¿é—®

## ğŸš€ å¿«é€Ÿå¼€å§‹ï¼ˆ5 åˆ†é’Ÿï¼‰

### æ­¥éª¤ 1ï¼šä¸‹è½½é¡¹ç›®

```bash
cd /home/user/webapp
# é¡¹ç›®å·²åœ¨ alipay-miniprogram ç›®å½•ä¸­
```

### æ­¥éª¤ 2ï¼šé…ç½® API åœ°å€

ç¼–è¾‘ `app.js`ï¼Œç¬¬ 4 è¡Œï¼š

```javascript
globalData: {
  // ä¿®æ”¹ä¸ºä½ çš„åç«¯åœ°å€
  apiBase: 'https://your-backend-url.com',
  
  // å¼€å‘æµ‹è¯•å¯ä½¿ç”¨ï¼š
  // apiBase: 'https://3000-imt0hr8ioseb4qc1ytnn4-2b54fc91.sandbox.novita.ai',
}
```

### æ­¥éª¤ 3ï¼šå¯¼å…¥é¡¹ç›®

1. æ‰“å¼€æ”¯ä»˜å®å°ç¨‹åºå¼€å‘è€…å·¥å…·
2. ç‚¹å‡»ã€Œå¯¼å…¥é¡¹ç›®ã€
3. é€‰æ‹© `alipay-miniprogram` ç›®å½•
4. AppID è¾“å…¥æµ‹è¯• AppID æˆ–ä½ çš„å°ç¨‹åº AppID

### æ­¥éª¤ 4ï¼šç¼–è¯‘è¿è¡Œ

- ç‚¹å‡»ã€Œç¼–è¯‘ã€æŒ‰é’®
- åœ¨æ¨¡æ‹Ÿå™¨ä¸­æŸ¥çœ‹æ•ˆæœ
- æˆ–ç‚¹å‡»ã€ŒçœŸæœºè°ƒè¯•ã€åœ¨æ‰‹æœºä¸Šæµ‹è¯•

## ğŸ“ é¡¹ç›®ç»“æ„è¯´æ˜

```
alipay-miniprogram/
â”œâ”€â”€ pages/              # é¡µé¢ç›®å½•
â”‚   â”œâ”€â”€ index/         # é¦–é¡µ - åŠŸèƒ½ä»‹ç»å’Œå¿«é€Ÿå…¥å£
â”‚   â”œâ”€â”€ create/        # åˆ›å»ºé¡µé¢ - å¡«å†™è¡¨å•ç”Ÿæˆå†…å®¹
â”‚   â”œâ”€â”€ projects/      # é¡¹ç›®åˆ—è¡¨ - æŸ¥çœ‹æ‰€æœ‰é¡¹ç›®
â”‚   â””â”€â”€ detail/        # é¡¹ç›®è¯¦æƒ… - æŸ¥çœ‹ç”Ÿæˆç»“æœ
â”œâ”€â”€ utils/             # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ request.js     # HTTP è¯·æ±‚å°è£…
â”‚   â”œâ”€â”€ api.js         # API æ¥å£å®šä¹‰
â”‚   â””â”€â”€ util.js        # é€šç”¨å·¥å…·
â”œâ”€â”€ app.js             # å°ç¨‹åºå…¥å£ã€é‡è¦ã€‘
â”œâ”€â”€ app.json           # å…¨å±€é…ç½®
â”œâ”€â”€ app.acss           # å…¨å±€æ ·å¼
â”œâ”€â”€ README.md          # é¡¹ç›®è¯´æ˜
â””â”€â”€ SETUP.md           # æœ¬æ–‡ä»¶
```

## ğŸ”§ é…ç½®è¯¦è§£

### app.json - å…¨å±€é…ç½®

```json
{
  "pages": [                    // é¡µé¢è·¯å¾„ï¼ˆé¦–é¡¹ä¸ºé¦–é¡µï¼‰
    "pages/index/index",
    "pages/create/create",
    "pages/projects/projects",
    "pages/detail/detail"
  ],
  "window": {
    "defaultTitle": "æ¸¸æˆå†…å®¹ç”Ÿæˆå™¨",  // é»˜è®¤æ ‡é¢˜
    "titleBarColor": "#f0d7b7",       // æ ‡é¢˜æ é¢œè‰²
    "pullRefresh": false               // å…¨å±€ä¸‹æ‹‰åˆ·æ–°
  },
  "tabBar": {                          // åº•éƒ¨ Tab æ 
    "items": [
      { "pagePath": "pages/index/index", "name": "é¦–é¡µ" },
      { "pagePath": "pages/create/create", "name": "åˆ›å»º" },
      { "pagePath": "pages/projects/projects", "name": "é¡¹ç›®" }
    ]
  }
}
```

### é¡µé¢é…ç½®ç¤ºä¾‹

æ¯ä¸ªé¡µé¢å¯æœ‰ç‹¬ç«‹çš„ JSON é…ç½® (`index.json`)ï¼š

```json
{
  "defaultTitle": "é¦–é¡µ",         // é¡µé¢æ ‡é¢˜
  "pullRefresh": true,            // å¼€å¯ä¸‹æ‹‰åˆ·æ–°
  "allowsBounceVertical": "YES"   // å…è®¸ä¸Šä¸‹å¼¹æ€§æ»šåŠ¨
}
```

## ğŸ”Œ API å¯¹æ¥

### åç«¯è¦æ±‚

åç«¯éœ€æä¾›ä»¥ä¸‹æ¥å£ï¼š

| æ¥å£ | æ–¹æ³• | è¯´æ˜ |
|------|------|------|
| `/api/projects` | GET | è·å–é¡¹ç›®åˆ—è¡¨ |
| `/api/projects/:id` | GET | è·å–é¡¹ç›®è¯¦æƒ… |
| `/api/generate` | POST | åˆ›å»ºå¹¶ç”Ÿæˆå†…å®¹ |
| `/api/health` | GET | å¥åº·æ£€æŸ¥ |

### æ¥å£ç¤ºä¾‹

**åˆ›å»ºé¡¹ç›®æ¥å£**ï¼š

```
POST /api/generate
Content-Type: application/json

{
  "name": "é­”æ³•å­¦é™¢å¤§å†’é™©",
  "game_type": "rpg",
  "content_type": "worldview",
  "description": "ä¸€ä¸ªé­”æ³•ä¸ç§‘æŠ€å¹¶å­˜çš„ä¸–ç•Œ",
  "ai_model": "gemini"
}
```

**å“åº”**ï¼š

```json
{
  "success": true,
  "project": {
    "id": 1,
    "name": "é­”æ³•å­¦é™¢å¤§å†’é™©",
    "game_type": "rpg",
    "content": "ç”Ÿæˆçš„å†…å®¹..."
  }
}
```

### è¯·æ±‚å°è£…ä½¿ç”¨

```javascript
// åœ¨é¡µé¢ JS ä¸­
const api = require('../../utils/api.js');

// è·å–é¡¹ç›®åˆ—è¡¨
const projects = await api.getProjects();

// åˆ›å»ºé¡¹ç›®
const result = await api.createProject({
  name: 'é¡¹ç›®å',
  game_type: 'rpg',
  content_type: 'worldview',
  ai_model: 'gemini'
});
```

## ğŸ¨ æ ·å¼è‡ªå®šä¹‰

### å…¨å±€é¢œè‰²å˜é‡

åœ¨ `app.acss` ä¸­å®šä¹‰ï¼š

```css
page {
  --bg-beige: #f0d7b7;      /* èƒŒæ™¯è‰² */
  --retro-pink: #e66285;    /* ç²‰è‰² */
  --retro-green: #2c9560;   /* ç»¿è‰² */
  --retro-blue: #5c7cfa;    /* è“è‰² */
  --border-color: #000100;  /* è¾¹æ¡†è‰² */
}
```

### ä½¿ç”¨å˜é‡

```css
.my-element {
  background: var(--bg-beige);
  color: var(--retro-pink);
  border: 2rpx solid var(--border-color);
}
```

## ğŸ“± TabBar å›¾æ ‡

TabBar éœ€è¦å›¾æ ‡æ–‡ä»¶ï¼ˆå»ºè®®å°ºå¯¸ 81x81pxï¼‰ï¼š

```
assets/images/
â”œâ”€â”€ home.png          # é¦–é¡µå›¾æ ‡ï¼ˆæœªé€‰ä¸­ï¼‰
â”œâ”€â”€ home-active.png   # é¦–é¡µå›¾æ ‡ï¼ˆé€‰ä¸­ï¼‰
â”œâ”€â”€ create.png        # åˆ›å»ºå›¾æ ‡ï¼ˆæœªé€‰ä¸­ï¼‰
â”œâ”€â”€ create-active.png # åˆ›å»ºå›¾æ ‡ï¼ˆé€‰ä¸­ï¼‰
â”œâ”€â”€ projects.png      # é¡¹ç›®å›¾æ ‡ï¼ˆæœªé€‰ä¸­ï¼‰
â””â”€â”€ projects-active.png  # é¡¹ç›®å›¾æ ‡ï¼ˆé€‰ä¸­ï¼‰
```

å¯ä½¿ç”¨çº¯è‰²å›¾æ ‡æˆ–ä½¿ç”¨åœ¨çº¿å›¾æ ‡ç”Ÿæˆå·¥å…·ã€‚

## ğŸ› è°ƒè¯•æŠ€å·§

### 1. æŸ¥çœ‹æ§åˆ¶å°

å¼€å‘è€…å·¥å…· â†’ è°ƒè¯•å™¨ â†’ Console

### 2. ç½‘ç»œè¯·æ±‚æŸ¥çœ‹

å¼€å‘è€…å·¥å…· â†’ è°ƒè¯•å™¨ â†’ Network

### 3. çœŸæœºè°ƒè¯•æ—¥å¿—

```javascript
console.log('è°ƒè¯•ä¿¡æ¯', data);
console.error('é”™è¯¯ä¿¡æ¯', error);
```

### 4. æ–­ç‚¹è°ƒè¯•

åœ¨ä»£ç ä¸­æ·»åŠ  `debugger;` è¯­å¥

### 5. æŸ¥çœ‹æ•°æ®

åœ¨ AXML ä¸­ä¸´æ—¶æ˜¾ç¤ºï¼š

```xml
<view>{{JSON.stringify(data)}}</view>
```

## âš¡ æ€§èƒ½ä¼˜åŒ–

### 1. å›¾ç‰‡ä¼˜åŒ–

- ä½¿ç”¨ webp æ ¼å¼
- å‹ç¼©å›¾ç‰‡å¤§å°
- æ‡’åŠ è½½

### 2. è¯·æ±‚ä¼˜åŒ–

- ç¼“å­˜å¸¸ç”¨æ•°æ®
- åˆå¹¶è¯·æ±‚
- ä½¿ç”¨åˆ†é¡µ

### 3. ä»£ç ä¼˜åŒ–

- å‡å°‘ setData è°ƒç”¨
- é¿å…é¢‘ç¹çš„é¡µé¢è·³è½¬
- ä½¿ç”¨èŠ‚æµé˜²æŠ–

## ğŸš€ å‘å¸ƒä¸Šçº¿

### 1. æ£€æŸ¥æ¸…å•

- [ ] API åœ°å€æ”¹ä¸ºç”Ÿäº§ç¯å¢ƒ
- [ ] æµ‹è¯•æ‰€æœ‰åŠŸèƒ½æ­£å¸¸
- [ ] éšç§æ”¿ç­–å®Œå–„
- [ ] å›¾æ ‡å’Œæˆªå›¾å‡†å¤‡

### 2. ä¸Šä¼ ä»£ç 

1. åœ¨å¼€å‘è€…å·¥å…·ä¸­ç‚¹å‡»ã€Œä¸Šä¼ ã€
2. å¡«å†™ç‰ˆæœ¬å·ï¼ˆå¦‚ 1.0.0ï¼‰
3. å¡«å†™ç‰ˆæœ¬æè¿°

### 3. æäº¤å®¡æ ¸

1. ç™»å½• [æ”¯ä»˜å®å¼€æ”¾å¹³å°](https://open.alipay.com/)
2. è¿›å…¥å°ç¨‹åºç®¡ç†
3. ç‚¹å‡»ã€Œæäº¤å®¡æ ¸ã€
4. å¡«å†™å®¡æ ¸ä¿¡æ¯

### 4. å‘å¸ƒ

å®¡æ ¸é€šè¿‡åï¼Œç‚¹å‡»ã€Œå‘å¸ƒã€å³å¯ä¸Šçº¿

## ğŸ“ å¸¸è§é—®é¢˜

### Q: å¦‚ä½•è·å– AppIDï¼Ÿ

A: ç™»å½•æ”¯ä»˜å®å¼€æ”¾å¹³å° â†’ æ§åˆ¶å° â†’ å°ç¨‹åº â†’ åˆ›å»ºå°ç¨‹åº

### Q: çœŸæœºè°ƒè¯•æ— æ³•è¿æ¥ï¼Ÿ

A: 
1. æ£€æŸ¥æ‰‹æœºæ˜¯å¦ç™»å½•æ”¯ä»˜å®
2. ç¡®ä¿å¼€å‘è€…å·¥å…·å’Œæ‰‹æœºåœ¨åŒä¸€ç½‘ç»œ
3. é‡å¯å¼€å‘è€…å·¥å…·

### Q: ç½‘ç»œè¯·æ±‚å¤±è´¥ï¼Ÿ

A:
1. æ£€æŸ¥ API åœ°å€æ˜¯å¦æ­£ç¡®
2. ç¡®ä¿ä½¿ç”¨ HTTPS
3. æ£€æŸ¥æœåŠ¡å™¨æ˜¯å¦è¿è¡Œ
4. æŸ¥çœ‹æ§åˆ¶å°é”™è¯¯ä¿¡æ¯

### Q: é¡µé¢æ ·å¼é”™ä¹±ï¼Ÿ

A:
1. æ£€æŸ¥ acss æ–‡ä»¶è¯­æ³•
2. ç¡®è®¤ä½¿ç”¨ rpx å•ä½
3. æ£€æŸ¥å…¨å±€æ ·å¼å†²çª

### Q: å¦‚ä½•æ·»åŠ æ–°é¡µé¢ï¼Ÿ

A:
1. åœ¨ pages ç›®å½•åˆ›å»ºé¡µé¢æ–‡ä»¶å¤¹
2. åˆ›å»º .axml, .acss, .js, .json å››ä¸ªæ–‡ä»¶
3. åœ¨ app.json çš„ pages æ•°ç»„ä¸­æ·»åŠ è·¯å¾„

## ğŸ“š å­¦ä¹ èµ„æº

- [æ”¯ä»˜å®å°ç¨‹åºå®˜æ–¹æ–‡æ¡£](https://opendocs.alipay.com/mini)
- [API å‚è€ƒ](https://opendocs.alipay.com/mini/api)
- [ç»„ä»¶æ–‡æ¡£](https://opendocs.alipay.com/mini/component)
- [å¼€å‘è€…ç¤¾åŒº](https://forum.alipay.com/mini-app)

## ğŸ†˜ æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼š

1. æŸ¥çœ‹ [å®˜æ–¹æ–‡æ¡£](https://opendocs.alipay.com/mini)
2. æœç´¢ [å¼€å‘è€…ç¤¾åŒº](https://forum.alipay.com/mini-app)
3. æäº¤ Issue åˆ° GitHub é¡¹ç›®

---

**ç¥å¼€å‘é¡ºåˆ©ï¼ğŸ‰**
